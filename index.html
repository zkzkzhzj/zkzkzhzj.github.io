<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content=""><meta name="keywords" content=""><meta name="author" content="John Doe"><meta name="copyright" content="John Doe"><title>Hexo</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  hexoVersion: '6.3.0'
} </script><meta name="generator" content="Hexo 6.3.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="false"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">John Doe</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">2</span></a></div></div></div><nav class="no-bg" id="nav"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Hexo</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right"></span></div><div id="site-info"><div id="site-title">Hexo</div><div id="site-sub-title"></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2022/11/23/compose-1/">compose-1</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-11-23</time><div class="content"><h2 id="Compose-Codelab-을-진행하다보면-Unit2-마지막-과제인-ArtSpace-앱-만들기를-만나게-될-것이다"><a href="#Compose-Codelab-을-진행하다보면-Unit2-마지막-과제인-ArtSpace-앱-만들기를-만나게-될-것이다" class="headerlink" title="Compose Codelab 을 진행하다보면 Unit2 마지막 과제인 ArtSpace 앱 만들기를 만나게 될 것이다."></a>Compose Codelab 을 진행하다보면 Unit2 마지막 과제인 ArtSpace 앱 만들기를 만나게 될 것이다.</h2><p>[##<em>Image|kage@bXaUU3&#x2F;btrRUsiWjy7&#x2F;Np0xmjBoHk8R2O1BfUVhK1&#x2F;img.png|CDM|1.3|{“originWidth”:563,”originHeight”:1177,”style”:”alignCenter”,”width”:200,”height”:418}</em>##]</p>
<p>해당 과제는 위와같이 명화, 설명, 버튼으로 이루어져있으며 버튼을 누를시 다른 명화를 보여주는 동작을 가지고있다.</p>
<p>[##<em>Image|kage@QZCaz&#x2F;btrRQ6hBcJZ&#x2F;WbhfzvRaOtnwVRnklyUTOk&#x2F;img.png|CDM|1.3|{“originWidth”:569,”originHeight”:1181,”style”:”alignCenter”,”width”:200,”height”:415}</em>##]</p>
<p>여기서는 전체 코드가 아니라 개발을 하며 기억하면 좋을 것들을 정리해서 적어두려고 한다.</p>
<h3 id="뷰-배치"><a href="#뷰-배치" class="headerlink" title="뷰 배치"></a>뷰 배치</h3><p>제일 처음 맞닥뜨린 문제는 아래와 같은 이미지 비율을 어떻게 구현을 해야할까에 대한 문제였다.</p>
<p>[##<em>Image|kage@kXfq6&#x2F;btrRRBn83fI&#x2F;0TvyeWxfEVbwCeLt6QkKC1&#x2F;img.png|CDM|1.3|{“originWidth”:324,”originHeight”:535,”style”:”alignCenter”,”width”:200,”height”:330}</em>##]</p>
<p>버튼은 하단에 배치되어야하고 그위에 텍스트 뷰, 그리고 남은 공간을 이미지로 채우는 형태이다.</p>
<p>버튼을 하단에 배치하는 건 크게 문제가 되지 않았다.</p>
<p>최상단 Column 속성에 하단 정렬을 해주면 바로 해결되는 문제이다.</p>
<p>그리고 처음에 나는 안일한 마음으로 내부 세 가지의 뷰 속성에 weight 값을 주고 7.5:1.5:1 비율로 세팅을 해주었다.</p>
<p>여기서 문제가 발생하는데 바로 중간 텍스트와 크게 본다면 하단 버튼의 텍스트가 짤려 제대로 보이지 않는 다는 것이다.</p>
<p>[##<em>Image|kage@bj3SIA&#x2F;btrRRvBBnbO&#x2F;5lXQ7vIJaDiHhQIYPK25bk&#x2F;img.png|CDM|1.3|{“originWidth”:577,”originHeight”:1080,”style”:”alignCenter”,”width”:200,”height”:374}</em>##]</p>
<p>외적으로 이미지 Modifier 속성에 maxHeight 를 줘보기도하고.. 여러가지 시도를 해보았다.</p>
<p>당연스럽게도 maxHeight 를 주면 이미지가 전체 크기를 차지하여 하단 텍스트와 버튼이 보이지 않는다.</p>
<p>시간을 꽤나 많이 보내고 난뒤 나는 깨달았다.</p>
<p>여기서 나의 문제점은 weight 속성을 오해하고 있었다는 것이다.</p>
<p>전체 Bottom 정렬을 하고나서 이미지 Modifier 속성에 weight 값을 주면 모든게 해결된다.</p>
<p>머리속으로 이미지 속성에 weight 를 주게 되면 maxHeight 준 것처럼 모두 자치할 것이라는 막연한 생각을 가지고 시도 조차도 해보지 않았었다.</p>
<p>하지만 남는 크기의 비율을 가져가기 때문에 weight 값을 이미지에게만 준다면 남은 공간은 모두 이미지가 가져갈 수 있는 우리가 원하는 화면이 나오는 것이다..</p>
<h3 id="간결한-텍스트-표시"><a href="#간결한-텍스트-표시" class="headerlink" title="간결한 텍스트 표시"></a>간결한 텍스트 표시</h3><p>한번 우리가 보여줄 텍스트 형태를 살펴보자</p>
<p>[##<em>Image|kage@uYe1D&#x2F;btrRTtP3Crm&#x2F;Gy4RCsEPCI0q5A6LAJ9cKk&#x2F;img.png|CDM|1.3|{“originWidth”:277,”originHeight”:125,”style”:”alignCenter”}</em>##]</p>
<p>작품의 제목이 위쪽에 나오며 그 하단에는 해당 작품의 화가와 출시년도가 연속해서 나오고 있다.</p>
<p>그리고 같은 줄에 있지만 style 속성이 다르게 나와있는 것을 볼 수 있다.</p>
<p>여기서 단순하게 생각하면 Column 내부에 Row 를 배치하면 구현할 수 있지만 나는 뭔가 Row 로 구현하기엔 코드가 지저분해보였으며 텍스트 하나를 구분지어 스타일을 줄 수 없을까 고민을 하였다.</p>
<p>그리고 내가 원하는 기능을 구현할 수 있는 buildAnnotatedString 메소드를 찾을 수 있었다.</p>
<p>해당 메소드는 하나의 Text 컴포저블 내부에 여러가지 속성을 설정할 수 있는 AnnotatedString 내부의 함수이고 사용한 방법은 아래와 같다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Text(</span><br><span class="line">    text = buildAnnotatedString &#123;</span><br><span class="line">        withStyle(</span><br><span class="line">            SpanStyle(</span><br><span class="line">                fontWeight = FontWeight.Bold</span><br><span class="line">            )</span><br><span class="line">        ) &#123;</span><br><span class="line">            append(&quot;$artist &quot;)</span><br><span class="line">        &#125;</span><br><span class="line">        withStyle(</span><br><span class="line">            SpanStyle(</span><br><span class="line">                color = Color.Gray</span><br><span class="line">            )</span><br><span class="line">        ) &#123;</span><br><span class="line">            append(&quot;($year)&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<p>withStyle 메소드를 통하여 AnnotatedString 객체로 전달할 수 있으며 SpanStyle 의 경우에는 하나의 단어에 속성을 적용할 때 사용하면 된다.</p>
<p>문장에 사용할 때는 ParagraphStyle 을 사용하면 된다.</p>
<p>사용할 style 을 지정해주고 람다 내부에 전달할 텍스트를 세팅해주면 깔끔하게 원하는 스타일을 적용시켜줄 수 있다.</p>
<h3 id="번외"><a href="#번외" class="headerlink" title="번외"></a>번외</h3><p>번외로 따로 포스팅하지 않아 작성하는 내용이다.</p>
<p>xml 로 레이아웃을 구성할 때도 단순한 줄이라던지 공백 같은 것을 만들어 봤을 것이다.</p>
<p>compose 에서 해당 작업은 Spacer 메소드를 통하여 하면 된다.</p>
<p>해당 메소드는 modifier 매개변수만 받고있으며 필자는 해당 프로젝트에서 아래와 같이 사용해주었다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Spacer(modifier = modifier.height(8.dp))</span><br></pre></td></tr></table></figure>

<p>단순한 패딩 값만 주었지만 기억해두어서 필요할 때 요긴하게 써보자</p>
<p>지금까지 해당 프로젝트를 하며 헤매었던 부분과 새로 알게된 부분을 정리해보았다.</p>
<p>잊지말고 기억해두었다가 잘 사용해야겠다.</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2022/11/23/hello-world/">Hello World</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-11-23</time><div class="content"><p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
</div><hr></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2022 By John Doe</div><div class="framework-info"><span>Driven - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/lib/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.1"></script><script src="/js/fancybox.js?version=1.9.1"></script><script src="/js/sidebar.js?version=1.9.1"></script><script src="/js/copy.js?version=1.9.1"></script><script src="/js/fireworks.js?version=1.9.1"></script><script src="/js/transition.js?version=1.9.1"></script><script src="/js/scroll.js?version=1.9.1"></script><script src="/js/head.js?version=1.9.1"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script></body></html>